"use client"

import React from "react"
import { Input, InputProps } from "./Input"
import { cn } from "~/shared/lib"

export type PasswordInputProps = InputProps

export const PasswordInput = React.forwardRef<HTMLInputElement, PasswordInputProps>((props, ref) => {
	const [passwordVisible, setPasswordVisible] = React.useState(false)
	return (
		<Input
			ref={ref}
			suffix={
				passwordVisible ? (
					<OpenEyeIcon className={"w-3"} onClick={() => setPasswordVisible(!passwordVisible)} />
				) : (
					<CloseEyeIcon className={"w-3"} onClick={() => setPasswordVisible(!passwordVisible)} />
				)
			}
			type={passwordVisible ? "text" : "password"}
			{...props}
		/>
	)
})

export const OpenEyeIcon = (props: React.SVGAttributes<SVGElement>) => {
	const { className, ...rest } = props
	return (
		<svg
			className={cn(className, "icon icon-primary icon-size-4 cursor-pointer")}
			height="8"
			viewBox="0 0 14 8"
			width="14"
			xmlns="http://www.w3.org/2000/svg"
			{...rest}
		>
			<path
				d="M1.41482 5.34391V5.34716C1.39609 5.41597 1.36361 5.48051 1.31925 5.53708C1.27488 5.59366 1.2195 5.64116 1.15628 5.67688C1.09305 5.71259 1.02321 5.73583 0.950759 5.74524C0.878306 5.75465 0.804658 5.75007 0.734026 5.73175C0.254578 5.60825 0.339121 5.06983 0.339121 5.06983L0.359144 5.00266C0.359144 5.00266 0.388067 4.91166 0.411427 4.84558C0.696895 4.06611 1.11714 3.33992 1.65399 2.69841C2.65182 1.51325 4.33044 0.333496 6.99466 0.333496C9.65888 0.333496 11.3375 1.51325 12.3364 2.69841C12.8733 3.33992 13.2935 4.06611 13.579 4.84558C13.6029 4.91258 13.6252 4.98012 13.6457 5.04816L13.6491 5.06225V5.06658L13.6502 5.06875C13.6855 5.20662 13.6637 5.35247 13.5896 5.47487C13.5155 5.59726 13.395 5.6864 13.254 5.72306C13.1131 5.75973 12.963 5.74098 12.836 5.67087C12.7091 5.60076 12.6156 5.48489 12.5756 5.34825L12.5745 5.34391L12.5656 5.31683C12.5025 5.12507 12.4283 4.93699 12.3431 4.7535C12.1164 4.26251 11.8247 3.80252 11.4754 3.38525C10.65 2.40483 9.26842 1.41683 6.99466 1.41683C4.7209 1.41683 3.3404 2.40483 2.51388 3.38525C2.06057 3.92743 1.70511 4.54065 1.46265 5.19875C1.44891 5.23786 1.43593 5.27723 1.42372 5.31683L1.41482 5.34391ZM6.99466 3.5835C6.25709 3.5835 5.54972 3.86884 5.02818 4.37675C4.50664 4.88466 4.21364 5.57353 4.21364 6.29183C4.21364 7.01012 4.50664 7.699 5.02818 8.20691C5.54972 8.71482 6.25709 9.00016 6.99466 9.00016C7.73223 9.00016 8.4396 8.71482 8.96114 8.20691C9.48268 7.699 9.77568 7.01012 9.77568 6.29183C9.77568 5.57353 9.48268 4.88466 8.96114 4.37675C8.4396 3.86884 7.73223 3.5835 6.99466 3.5835ZM5.32605 6.29183C5.32605 5.86085 5.50185 5.44753 5.81477 5.14278C6.1277 4.83803 6.55212 4.66683 6.99466 4.66683C7.4372 4.66683 7.86162 4.83803 8.17455 5.14278C8.48747 5.44753 8.66327 5.86085 8.66327 6.29183C8.66327 6.72281 8.48747 7.13613 8.17455 7.44088C7.86162 7.74563 7.4372 7.91683 6.99466 7.91683C6.55212 7.91683 6.1277 7.74563 5.81477 7.44088C5.50185 7.13613 5.32605 6.72281 5.32605 6.29183Z"
				fill=""
			/>
		</svg>
	)
}

export const CloseEyeIcon = (props: React.SVGAttributes<SVGElement>) => {
	const { className, ...rest } = props

	return (
		<svg
			className={cn(className, "icon icon-primary icon-size-4 cursor-pointer")}
			height="4"
			viewBox="0 0 16 4"
			width="16"
			xmlns="http://www.w3.org/2000/svg"
			{...rest}
		>
			<path
				d="M13.6666 0.312124L13.6668 1.37989C13.6668 1.418 13.6505 1.45428 13.6221 1.47959C12.966 2.06248 12.4493 2.47333 12.0717 2.71214L13.3566 4.20543C13.4046 4.26125 13.3983 4.34543 13.3424 4.39346C13.3416 4.39418 13.3408 4.39488 13.3399 4.39558L12.7803 4.85352C12.7243 4.89935 12.642 4.89215 12.5948 4.83729L11.1907 3.2051C10.4805 3.55375 9.71841 3.81655 8.91869 3.97952L9.60523 5.81919C9.63097 5.88818 9.59592 5.96498 9.52693 5.99073C9.52626 5.99098 9.52559 5.99122 9.52491 5.99146L8.83658 6.23581C8.76798 6.26016 8.69252 6.22498 8.66706 6.15677L7.91038 4.1293C7.61089 4.15757 7.30726 4.17203 7.00016 4.17203C6.61601 4.17203 6.23728 4.1494 5.8653 4.10542L5.0998 6.15677C5.07434 6.22498 4.99888 6.26016 4.93027 6.2358L4.24195 5.99146C4.17256 5.96683 4.13627 5.8906 4.16091 5.82121C4.16114 5.82053 4.16139 5.81986 4.16164 5.81919L4.86565 3.93288C4.14453 3.76833 3.45558 3.52223 2.80959 3.2051L1.4055 4.83729C1.35831 4.89215 1.27598 4.89935 1.21998 4.85352L0.660397 4.39558C0.60341 4.34894 0.59502 4.26494 0.641657 4.20795C0.642351 4.2071 0.643055 4.20626 0.64377 4.20543L1.92862 2.71214C1.55106 2.47333 1.03426 2.06246 0.378227 1.47955C0.349785 1.45423 0.333496 1.41796 0.333496 1.37988V0.320957C0.333496 0.247319 0.393191 0.187624 0.466829 0.187624C0.506905 0.187624 0.544855 0.20565 0.570177 0.236713L0.607518 0.282522L0.672807 0.358391C2.2011 2.09595 4.46883 3.19676 7.00016 3.19676C9.53648 3.19676 11.8081 2.09162 13.3365 0.348131L13.4365 0.230593C13.4815 0.175019 13.5631 0.166479 13.6187 0.211519C13.649 0.236107 13.6666 0.273072 13.6666 0.312124Z"
				fill=""
			/>
		</svg>
	)
}
